function getLastDayOfMonth(e,t){var o;switch(e){case 0:case 1:case 3:case 5:case 7:case 8:case 10:case 12:case 13:o=31;break;case 4:case 6:case 9:case 11:o=30;break;case 2:o=t%4==0&&t%100!=0||t%400==0?29:28}return o}xShop_Calendar_Editor=function(parent,designer){var self=this;this.parent=parent,this.current_calendar_component=void 0,this.designer_tool=designer,font_list=["Abel","Aclonica"];var base_url=this.designer_tool.options.base_url,page_url=base_url;this.element=$('<div id="xshop-designer-calendar-editor" class="xshop-options-editor " style="display:block"> </div>').appendTo(this.parent),this.editor_close_btn=$('<div class="xshop-designer-tool-editor-option-close"><i class="atk-box atk-box-small pull-right glyphicon glyphicon-remove"></i></div>').appendTo(this.element),$(this.editor_close_btn).click(function(e){self.element.hide()}),this.vertical_tab_container=$('<div id="xepan-designer-vertical-tab" class="xepan-designer-calendar-designer-options-panel"></div>').appendTo(this.element),this.vertical_tab=$("<ul></ul>").appendTo(this.vertical_tab_container),this.header_tab=$('<li><a href="#calendar-header-options"  class="xshop-calendar-editor-header">Header</a></li>').appendTo(this.vertical_tab),this.week_tab=$('<li><a href="#calendar-week-options"  class="xshop-calendar-editor-header">Week</a></li>').appendTo(this.vertical_tab),this.date_tab=$('<li><a href="#calendar-date-options"  class="xshop-calendar-editor-header">Date</a></li>').appendTo(this.vertical_tab),this.event_tab=$('<li><a href="#calendar-event-options"  class="xshop-calendar-editor-header">Event</a></li>').appendTo(this.vertical_tab),this.other_tab=$('<li><a href="#calendar-calendar-options"  class="xshop-calendar-editor-header">Calendar</a></li>').appendTo(this.vertical_tab),this.header_options=$('<div id="calendar-header-options"> </div>').appendTo(this.vertical_tab_container),this.col1=$('<div class="designer-tool-calendar-option"></div>').appendTo(this.header_options),this.header_font_size_label=$('<div title="Header Font Size"><label for="header_font_size">Font Size :</label></div>').appendTo(this.col1),this.header_align_label=$('<div title="Header Text Align"><label for="header_align">Text Align :</label></div>').appendTo(this.col1),this.header_align=$('<select id="header_align">Header Align</select>').appendTo(this.header_align_label),this.header_font_size=$('<select id="header_font_size">Header Size</select>').appendTo(this.header_font_size_label),align_options="",align_options+='<option value="left" class="atk-move-left">left</option>',align_options+='<option value="center" class="atk-move-center">center</option>',align_options+='<option value="right" class="atk-move-right">right</option>',$(align_options).appendTo(this.header_align),$(this.header_align).change(function(e){self.current_calendar_component.options.header_align=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),$.each(this.designer_tool.pointtopixel,function(e,t){$('<option value="'+t+'">'+e+"</option>").appendTo(self.header_font_size)}),$(this.header_font_size).change(function(e){self.current_calendar_component.options.header_font_size=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.header_color_label=$('<div title="Header Text Color" class="xshop-designer-calendar-color-picker"><label for="header_font_color">Text Color : </label></div>').appendTo(this.col1),this.header_color_picker=$('<input id="header_font_color" class="xepan-designer-calendar-color-picker">').appendTo(this.header_color_label),$(this.header_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.header_font_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.header_bg_color_label=$('<div title="Header Background Color" class="xshop-designer-calendar-color-picker"><label for="header_bg_color">Background : </label></div>').appendTo(this.col1),this.header_bg_color_picker=$('<input id="header_bg_color" class="xepan-designer-calendar-color-picker">').appendTo(this.header_bg_color_label),$(this.header_bg_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.header_bg_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.h_btn_set=$('<div title="Header Bold"><label for="xshop-designer-calendar-header-bold">Header Bold: </label></div>').appendTo(this.col1),this.h_bold=$('<select><option value="false">No</option> <option value="true">Yes</option></select>').appendTo(this.h_btn_set),$(this.h_bold).change(function(){self.current_calendar_component.options.header_bold=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.showhide_btn_set=$('<div title="Show/ Hide Header"><label for="xshop-designer-calendar-header-showhide">Header: </label></div>').appendTo(this.col1),this.showhide_btn=$('<select><option value="false">Hide</option> <option value="true">Show</option></select>').appendTo(this.showhide_btn_set),$(this.showhide_btn).change(function(){self.current_calendar_component.options.header_show=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.week_options=$('<div id="calendar-week-options"> </div>').appendTo(this.vertical_tab_container),this.col3=$('<div class=" atk-box-small designer-tool-calendar-option"></div>').appendTo(this.week_options),this.day_name_font_size_label=$('<div><label for="day_name_font_size">Font Size :</label></div>').appendTo(this.col3),this.day_name_font_size=$("<select>Day Name Size</select>").appendTo(this.day_name_font_size_label),$.each(this.designer_tool.pointtopixel,function(e,t){$('<option value="'+t+'">'+e+"</option>").appendTo(self.day_name_font_size)}),$(this.day_name_font_size).change(function(e){self.current_calendar_component.options.day_name_font_size=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.day_name_color_label=$('<div class="xshop-designer-calendar-color-picker"><label for="day_name_font_color">Color : </label></div>').appendTo(this.col3),this.day_name_color_picker=$('<input id="day_name_font_color" class="xepan-designer-calendar-color-picker">').appendTo(this.day_name_color_label),$(this.day_name_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.day_name_font_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.day_name_bg_color_label=$('<div class="xshop-designer-calendar-color-picker"><label for="day_name_bg_color">BG Color : </label></div>').appendTo(this.col3),this.day_name_bg_color_picker=$('<input id="day_name_bg_color" class="xepan-designer-calendar-color-picker">').appendTo(this.day_name_bg_color_label),$(this.day_name_bg_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.day_name_bg_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.w_btn_set=$('<div class="btn-group btn-group-xs xshop-calendar-align" role="group" ></div>').appendTo(this.col3),this.w_bold=$('<div class="btn" title="Right"><span class="glyphicon glyphicon-bold"></span></div>').appendTo(this.w_btn_set),$(this.w_bold).click(function(){$(this).hasClass("active")?($(this).removeClass("active"),self.current_calendar_component.options.day_name_bold=!1):($(this).addClass("active"),self.current_calendar_component.options.day_name_bold=!0),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.day_name_height_div=$("<div></div>").appendTo(this.col3),this.day_name_height_label=$('<label for="xshop-designer-calendar-week-height" style="float:left;">Height :</label>').appendTo(this.day_name_height_div),this.day_name_cell_height=$('<input type="number" id="xshop-designer-calendar-week-height"  min="10" max="80" value="20" style="padding:0;font-size:12px;float:left;width:60px !important" />').appendTo(this.day_name_height_div),$(this.day_name_cell_height).change(function(e){self.current_calendar_component.options.day_name_cell_height=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.date_options=$('<div id="calendar-date-options"> </div>').appendTo(this.vertical_tab_container),this.col2=$('<div class=" atk-box-small designer-tool-calendar-option"></div>').appendTo(this.date_options),this.day_date_font_size_label=$('<div><label for="day_date_font_size">Font Size :</label></div>').appendTo(this.col2),this.day_date_font_size=$('<select id="day_date_font_size">Day Date Size</select>').appendTo(this.day_date_font_size_label),$.each(this.designer_tool.pointtopixel,function(e,t){$('<option value="'+t+'">'+e+"</option>").appendTo(self.day_date_font_size)}),$(this.day_date_font_size).change(function(e){self.current_calendar_component.options.day_date_font_size=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.day_date_color_label=$('<div class="xshop-designer-calendar-color-picker"><label for="day_date_font_color">Color : </label></div>').appendTo(this.col2),this.day_date_color_picker=$('<input id="day_date_font_color" class="xepan-designer-calendar-color-picker">').appendTo(this.day_date_color_label),$(this.day_date_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.day_date_font_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.height_div=$("<div></div>").appendTo(this.col2),this.height_label=$('<label for="xshop-designer-calendar-height" style="float:left;">Height :</label>').appendTo(this.height_div),this.cell_height=$('<input type="number" id="xshop-designer-calendar-height"  min="10" max="80" value="20" style="padding:0;font-size:12px;float:left;width:60px !important" />').appendTo(this.height_div),$(this.cell_height).change(function(e){self.current_calendar_component.options.calendar_cell_heigth=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.cell_bg_color_label=$('<div class="xshop-designer-calendar-color-picker"><label for="xshop-designer-calendar-cell-bg-color">BG Color : </label></div>').appendTo(this.col2),this.cell_bg_color=$('<input id="xshop-designer-calendar-cell-bg-color" class="xepan-designer-calendar-color-picker">').appendTo(this.cell_bg_color_label),$(this.cell_bg_color).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.calendar_cell_bg_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.alignment_label=$('<div><label for="xcalendar-alignment">H-Align :</label></div>').appendTo(this.col2),this.alignment_btn_set=$('<div class="btn-group btn-group-xs xshop-calendar-align" role="group" aria-label="Text Alignment"></div>').appendTo(this.alignment_label),this.align_left_btn=$('<div class="btn" title="Left"><span class="glyphicon glyphicon-align-left"></span></div>').appendTo(this.alignment_btn_set),this.align_center_btn=$('<div class="btn" title="Center"><span class="glyphicon glyphicon-align-center"></span></div>').appendTo(this.alignment_btn_set),this.align_right_btn=$('<div class="btn" title="Right"><span class="glyphicon glyphicon-align-right"></span></div>').appendTo(this.alignment_btn_set),$(this.align_left_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.alignment="left",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.align_right_btn).removeClass("active"),$(self.align_center_btn).removeClass("active")}),$(this.align_center_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.alignment="center",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.align_right_btn).removeClass("active"),$(self.align_left_btn).removeClass("active")}),$(this.align_right_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.alignment="right",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.align_left_btn).removeClass("active"),$(self.align_center_btn).removeClass("active")}),this.valignment_label=$('<div><label for="xcalendar-alignment">V</label></div>').appendTo(this.col2),this.valignment_btn_set=$('<div class="btn-group btn-group-xs xshop-calendar-valign" role="group" aria-label="Text Alignment"></div>').appendTo(this.valignment_label),this.valign_top_btn=$('<div class="btn" title="Top"><span class="glyphicon glyphicon-align-left"></span></div>').appendTo(this.valignment_btn_set),this.valign_middle_btn=$('<div class="btn" title="Middle"><span class="glyphicon glyphicon-align-center"></span></div>').appendTo(this.valignment_btn_set),this.valign_bottom_btn=$('<div class="btn" title="Bottom"><span class="glyphicon glyphicon-align-right"></span></div>').appendTo(this.valignment_btn_set),$(this.valign_top_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.valignment="top",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.valign_middle_btn).removeClass("active"),$(self.valign_bottom_btn).removeClass("active")}),$(this.valign_middle_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.valignment="middle",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.valign_top_btn).removeClass("active"),$(self.valign_bottom_btn).removeClass("active")}),$(this.valign_bottom_btn).click(function(){$(this).addClass("active"),self.current_calendar_component.options.valignment="bottom",$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool),$(self.valign_top_btn).removeClass("active"),$(self.valign_middle_btn).removeClass("active")}),this.event_options=$('<div id="calendar-event-options"> </div>').appendTo(this.vertical_tab_container),this.col4=$('<div class=" atk-box-small designer-tool-calendar-option"></div>').appendTo(this.event_options),this.event_font_size_label=$('<div><label for="day_name_font_size">Font Size :</label></div>').appendTo(this.col4),this.event_font_size=$("<select >Event Size</select>").appendTo(this.event_font_size_label),$.each(this.designer_tool.pointtopixel,function(e,t){$('<option value="'+t+'">'+e+"</option>").appendTo(self.event_font_size)}),$(this.event_font_size).change(function(e){self.current_calendar_component.options.event_font_size=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.event_color_label=$('<div class="xshop-designer-calendar-color-picker"><label for="event_font_color">Color : </label></div>').appendTo(this.col4),this.event_color_picker=$('<input id="event_font_color" class="xepan-designer-calendar-color-picker">').appendTo(this.event_color_label),$(this.event_color_picker).colorpicker({parts:"full",alpha:!1,showOn:"both",buttonColorize:!0,showNoneButton:!0,buttonImage:"vendor/xepan/commerce/templates/css/tool/designer/images/ui-colorpicker.png",ok:function(e,t){self.current_calendar_component.options.event_font_color="#"+t.formatted,$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}}),this.calendar_options=$('<div id="calendar-calendar-options"> </div>').appendTo(this.vertical_tab_container),this.cal_col=$('<div class=" atk-box-small designer-tool-calendar-option"></div>').appendTo(this.calendar_options),this.calendar_x_label=$('<div class=""><label for="xshop-designer-calendar-positionx">x: </label></div>').appendTo(this.cal_col),this.calendar_x=$('<input name="x" id="xshop-designer-calendar-positionx" class="xshop-designer-calendar-inputx" />').appendTo(this.calendar_x_label),$(this.calendar_x).change(function(){self.current_calendar_component.options.x=self.designer_tool.screen2option($(this).val()),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.calendar_y_label=$('<div class=""><label for="xshop-designer-calendar-positiony">y: </label></div>').appendTo(this.cal_col),this.calendar_y=$('<input name="y" id="xshop-designer-calendar-positiony" class="xshop-designer-calendar-inputy" />').appendTo(this.calendar_y_label),$(this.calendar_y).change(function(){self.current_calendar_component.options.y=self.designer_tool.screen2option($(this).val()),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.calendar_width_label=$('<div class=""><label for="xshop-designer-calendar-width">width: </label></div>').appendTo(this.cal_col),this.calendar_width=$('<input name="width" id="xshop-designer-calendar-width" class="xshop-desigber-calendar-width"/>').appendTo(this.calendar_width_label),$(this.calendar_width).change(function(){self.current_calendar_component.options.width=self.designer_tool.screen2option($(this).val()),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.calendar_height_label=$('<div class=""><label for="xshop-designer-calendar-height">height: </label></div>').appendTo(this.cal_col),this.calendar_height=$('<input name="height" id="xshop-designer-calendar-height" class="xshop-desigber-calendar-height"/>').appendTo(this.calendar_height_label),$(this.calendar_height).change(function(){self.current_calendar_component.options.height=self.designer_tool.screen2option($(this).val()),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.calendar_border_label=$('<div class=""><label for="xshop-designer-calendar-border">border: </label></div>').appendTo(this.cal_col),this.calendar_border=$('<select> <option value="1">Show</option><option value="0">Hide</option></select>').appendTo(this.calendar_border_label),$(this.calendar_border).change(function(){self.current_calendar_component.options.border=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.calendar_up_down=$('<div class="xshop-designer-calendar-up-down-btn"></div>').appendTo(this.cal_col),this.calendar_up=$('<span class="xshop-designer-calendar-up-btn icon-angle-circled-up atk-size-mega xshop-designer-calendar-up-btn" title="Bring to Front" ></span>').appendTo(this.calendar_up_down),this.calendar_down=$('<span class="xshop-designer-calendar-down-btn icon-angle-circled-down atk-size-mega xshop-designer-calendar-up-btn" title="Send to Back" ></span>').appendTo(this.calendar_up_down),this.calendar_up.click(function(){current_calendar=$(self.current_calendar_component.element),current_zindex=current_calendar.css("z-index"),"auto"==current_zindex&&(current_zindex=0),current_calendar.css("z-index",parseInt(current_zindex)+1),self.current_calendar_component.options.zindex=current_calendar.css("z-index"),$("span.xshop-designer-calendar-down-btn").hasClass("xepan-designer-button-disable")&&$("span.xshop-designer-calendar-down-btn").removeClass("xepan-designer-button-disable")}),this.calendar_down.click(function(){current_calendar=$(self.current_calendar_component.element),current_zindex=current_calendar.css("z-index"),"auto"==current_zindex||parseInt(current_zindex)-1<0?current_zindex=0:current_zindex=parseInt(current_zindex)-1,current_calendar.css("z-index",current_zindex),self.current_calendar_component.options.zindex=current_zindex,0==current_zindex&&$("span.xshop-designer-calendar-down-btn").addClass("xepan-designer-button-disable")}),this.calendar_font_family_label=$('<div><label for="calendar_font_family">Font Family :</label></div>').appendTo(this.cal_col),this.calendar_font_family=$('<select id="calendar_font_family" >Header Font Family</select>').appendTo(this.calendar_font_family_label),WebFont.load({google:{families:font_list},fontinactive:function(e,t){console.log("Sorry "+e+" font family can't be loaded at the moment. Retry later.")},active:function(){}}),$.each(font_list,function(e,t){$('<option value="'+t+'">'+t+"</option>").appendTo(self.font_selector)}),$(this.calendar_font_family).change(function(e){self.current_calendar_component.options.calendar_font_family=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.row2=$('<div class="xepan-designer-calendar-customer-options-panel" style="display:block;margin:0;clear:both;"></div>').appendTo(this.element),this.col5=$('<div title="Sequence of Calendar"></div>').appendTo(this.row2),this.month_label=$('<label for="month">Sequence :</label>').appendTo(this.col5),this.month=$('<select id="month"></select>').appendTo(this.col5),options='<option value="00">Select</option>',options+='<option value="01">01</option>',options+='<option value="02">02</option>',options+='<option value="03">03</option>',options+='<option value="04">04</option>',options+='<option value="05">05</option>',options+='<option value="06">06</option>',options+='<option value="07">07</option>',options+='<option value="08">08</option>',options+='<option value="09">09</option>',options+='<option value="10">10</option>',options+='<option value="11">11</option>',options+='<option value="12">12</option>',$(options).appendTo(this.month),$(this.month).change(function(e){"00"==$(this).val()?self.current_calendar_component.options.month=self.current_calendar_component.options.starting_month:self.current_calendar_component.options.month=$(this).val(),$(".xshop-designer-tool").xepan_xshopdesigner("check"),self.current_calendar_component.render(self.designer_tool)}),this.col7=$('<div title="Manage Your Events"></div>').appendTo(this.row2),this.event_label=$("<label>Events </label>").appendTo(this.col7),event_btn=$('<button class="atk-button atk-swatch-blue">Manage</button>').appendTo(this.col7),event_frame=$('<div id="xshop-designer-calendar-events-dialog" class="xshop-designer-calendar-events-frame"></div>').appendTo(this.element),form_row=$('<div class="atk-row atk-padding-small row">').appendTo(event_frame),form_col1=$('<div class="col-md-4">').appendTo(form_row),this.event_date=$('<input type="text" name="event_date" id="xshop-designer-calendar-event-date" PlaceHolder="Date"/>').appendTo(form_col1),form_col2=$('<div class="col-md-6">').appendTo(form_row),this.event_message=$('<input type="text" name="event" id="xshop-designer-calendar-event" PlaceHolder="Event"/>').appendTo(form_col2),form_col3=$('<div class="col-md-2">').appendTo(form_row),this.event_add=$(' <button type="button">Add</button> ').appendTo(form_col3),$(this.event_date).datepicker({dateFormat:"dd-MM-yy"}),event_dialog=event_frame.dialog({autoOpen:!1,width:500,modal:!0,open:function(){$("div").remove("#xshop-designer-calendar-events"),table='<div id="xshop-designer-calendar-events" class="panel panel-default"><div class="atk-table atk-table-zebra atk-table-bordered"><div class="atk-box-small atk-align-center"><h3>Your All Events</h3></div><table style="width:100%;"><thead><tr><th>Date</th><th>Message</th><th>Actions</th></tr></thead><tbody>',$.each(self.designer_tool.options.calendar_event,function(e,t){$.each(t,function(e,t){table+="<tr current_month="+self.current_calendar_component.options.month+" selected_date="+e+" ><td>"+e+"</td><td>"+t+'</td><td><a class="atk-effect-danger xshop-designer-calendar-event-delete" href="#">Delete</a></td></tr>'})}),table+="</tbody></table></div></div>",$(table).appendTo(this),$(".xshop-designer-calendar-event-delete").click(function(e){selected_date=$(this).closest("tr").attr("selected_date"),current_month=$(this).closest("tr").attr("current_month"),delete self.designer_tool.options.calendar_event[current_month][selected_date],$(this).closest("tr").hide(),self.current_calendar_component.render(self.designer_tool)})},close:function(){$(".xshop-designer-calendar-event-count").empty(),$(".xshop-designer-calendar-event-count").text(" "+self.getCalendarEvent())}}),$(event_btn).click(function(e){event_dialog.dialog("open")}),$(this.event_add).click(function(e){curr_month=self.current_calendar_component.options.month,void 0==self.designer_tool.options.calendar_event[curr_month]&&(self.designer_tool.options.calendar_event[curr_month]=new Object),self.designer_tool.options.calendar_event[curr_month][self.event_date.val()]=new Object,self.designer_tool.options.calendar_event[curr_month][self.event_date.val()]=self.event_message.val(),self.current_calendar_component.render(self.designer_tool),$(event_dialog).dialog("close"),$(self.event_message).val(""),self.event_date.val("")}),this.getCalendarEvent=function(){return count=0,$.each(self.designer_tool.options.calendar_event,function(e,t){$.each(t,function(e,t){count+=1})}),count},this.col8=$('<div title="Remove Calendar"></div>').appendTo(this.row2),this.calendar_remove_label=$("<label>Remove </label>").appendTo(this.col8),this.calendar_remove=$('<button class="atk-button atk-swatch-red" title="Remove Selected Calendar"><span class="glyphicon glyphicon-trash"></span></button>').appendTo(this.col8),this.calendar_remove.click(function(){dt=self.current_calendar_component.designer_tool,$.each(dt.pages_and_layouts[dt.current_page][dt.current_layout].components,function(e,t){t===dt.current_selected_component&&(dt.pages_and_layouts[dt.current_page][dt.current_layout].components.splice(e,1),dt.current_selected_component.element.forEachObject(function(e){dt.canvasObj.remove(e)}),dt.canvasObj.remove(dt.current_selected_component.element),dt.canvasObj.discardActiveGroup().renderAll(),dt.current_selected_component=null,dt.option_panel.hide())})}),$("#xepan-designer-vertical-tab").tabs().addClass("ui-helper-clearfix"),$("#xepan-designer-vertical-tab li").removeClass("ui-corner-top").addClass("ui-corner-left"),this.col9=$('<div title="Show/ Hide Setting"></div>').appendTo(this.row2),this.setting_label=$("<label>Settings</label>").appendTo(this.col9),this.hide_show_btn=$('<button class="atk-button btn-warning" title="Show/Hide options"> <i class="icon-atkcog"></i> </button>').appendTo(this.col9),hide_show_frame=$('<div id="xshop-designer-calendar-options-dialog" class="xshop-designer-calendar-options-frame"></div>').appendTo(this.element),options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Calendar Options</div><div class="panel-body"><li class="list-group-item" data_variable="hide_all_option">Hide All Options<input data_variable="hide_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),header_options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Header options to show/hide</div><div class="panel-body"><li class="list-group-item" data_variable="hide_header_all_option">Hide Header All Options<input data_variable="hide_header_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),day_date_options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Week options to show/hide</div><div class="panel-body"><li class="list-group-item" data_variable="hide_week_all_option">Hide Week All Options<input data_variable="hide_week_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),day_name_options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Date options to show/hide</div><div class="panel-body"><li class="list-group-item" data_variable="hide_date_all_option">Hide Date All Options<input data_variable="hide_date_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),event_options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Event options to show/hide</div><div class="panel-body"><li class="list-group-item" data_variable="hide_event_all_option">Hide Event All Options<input data_variable="hide_event_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),other_calendar_options=$('<div class="panel panel-default xshop-calendar-editor-options-to-show"><div class="panel-heading">Other calendar options to show/hide</div><div class="panel-body"><li class="list-group-item" data_variable="hide_other_all_option">Hide Other All Options<input data_variable="hide_other_all_option" class="xshop-calendar-show-hide-checkbox" type="checkbox" /></li></div></div>').appendTo(hide_show_frame),$(".xshop-calendar-editor-options-to-show  li").click(function(event){option=$(this).attr("data_variable"),current_value=eval("self.current_calendar_component.options."+option),1==current_value?current_value=!1:current_value=!0,eval("self.current_calendar_component.options."+option+" = "+current_value+";"),$(this).find(":checkbox").prop("checked",current_value)}),option_display_dialog=hide_show_frame.dialog({autoOpen:!1,width:500,modal:!0,height:400,open:function(){$('input[data_variable="hide_all_option"]').prop("checked",self.current_calendar_component.options.hide_all_option),$('input[data_variable="hide_header_all_option"]').prop("checked",self.current_calendar_component.options.hide_header_all_option),$('input[data_variable="hide_header_font_size"]').prop("checked",self.current_calendar_component.options.hide_header_font_size),$('input[data_variable="hide_header_font_color"]').prop("checked",self.current_calendar_component.options.hide_header_font_color),$('input[data_variable="hide_header_text_align"]').prop("checked",self.current_calendar_component.options.hide_header_text_align),$('input[data_variable="hide_header_bg_color"]').prop("checked",self.current_calendar_component.options.hide_header_bg_color),$('input[data_variable="hide_header_text_bold"]').prop("checked",self.current_calendar_component.options.hide_header_text_bold),$('input[data_variable="hide_header_show_hide_btn"]').prop("checked",self.current_calendar_component.options.hide_header_show_hide_btn),
$('input[data_variable="hide_week_all_option"]').prop("checked",self.current_calendar_component.options.hide_week_all_option),$('input[data_variable="hide_day_date_font_size"]').prop("checked",self.current_calendar_component.options.hide_day_date_font_size),$('input[data_variable="hide_day_date_font_color"]').prop("checked",self.current_calendar_component.options.hide_day_date_font_color),$('input[data_variable="hide_day_date_font_height"]').prop("checked",self.current_calendar_component.options.hide_day_date_font_height),$('input[data_variable="hide_day_date_background_color"]').prop("checked",self.current_calendar_component.options.hide_day_date_background_color),$('input[data_variable="hide_day_date_text_bold"]').prop("checked",self.current_calendar_component.options.hide_day_date_text_bold),$('input[data_variable="hide_date_all_option"]').prop("checked",self.current_calendar_component.options.hide_date_all_option),$('input[data_variable="hide_day_name_font_size"]').prop("checked",self.current_calendar_component.options.hide_day_name_font_size),$('input[data_variable="hide_day_name_font_color"]').prop("checked",self.current_calendar_component.options.hide_day_name_font_color),$('input[data_variable="hide_day_name_font_bg_color"]').prop("checked",self.current_calendar_component.options.hide_day_name_font_bg_color),$('input[data_variable="hide_day_name_cell_height"]').prop("checked",self.current_calendar_component.options.hide_day_name_cell_height),$('input[data_variable="hide_day_name_text_horizontal_align"]').prop("checked",self.current_calendar_component.options.hide_day_name_text_horizontal_align),$('input[data_variable="hide_day_name_text_vertical_align"]').prop("checked",self.current_calendar_component.options.hide_day_name_text_vertical_align),$('input[data_variable="hide_event_all_option"]').prop("checked",self.current_calendar_component.options.hide_event_all_option),$('input[data_variable="hide_event_font_size"]').prop("checked",self.current_calendar_component.options.hide_event_font_size),$('input[data_variable="hide_event_font_color"]').prop("checked",self.current_calendar_component.options.hide_event_font_color),$('input[data_variable="hide_calendar_option_x"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_x),$('input[data_variable="hide_calendar_option_y"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_y),$('input[data_variable="hide_calendar_option_width"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_width),$('input[data_variable="hide_calendar_option_height"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_height),$('input[data_variable="hide_calendar_option_border"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_border),$('input[data_variable="hide_calendar_option_font_family"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_font_family),$('input[data_variable="hide_calendar_option_bring_to_front_and_back"]').prop("checked",self.current_calendar_component.options.hide_calendar_option_bring_to_front_and_back),$('input[data_variable="hide_calendar_month"]').prop("checked",self.current_calendar_component.options.hide_calendar_month),$('input[data_variable="hide_calendar_starting_month"]').prop("checked",self.current_calendar_component.options.hide_calendar_starting_month),$('input[data_variable="hide_calendar_remove_btn"]').prop("checked",self.current_calendar_component.options.hide_calendar_remove_btn),$('input[data_variable="hide_calendar_manage_event"]').prop("checked",self.current_calendar_component.options.hide_calendar_manage_event)}}),$(this.hide_show_btn).click(function(){option_display_dialog.dialog("open")}),this.setCalendarComponent=function(e){this.current_calendar_component=e,$(this.header_font_size).val(e.options.header_font_size),$(this.header_color_picker).colorpicker("setColor",e.options.header_font_color),$(this.header_align).val(e.options.header_align),$(this.header_bg_color_picker).colorpicker("setColor",e.options.header_bg_color),$(this.h_bold).val(e.options.header_bold),$(this.showhide_btn).val(e.options.header_show),$(this.day_name_font_size).val(e.options.day_name_font_size),$(this.day_name_color_picker).val(e.options.day_name_font_color),$(this.day_name_bg_color_picker).colorpicker("setColor",e.options.day_name_bg_color),e.options.day_name_bold&&$(this.w_bold).addClass("active"),$(this.day_name_cell_height).val(e.options.day_name_cell_height),$(this.day_date_font_size).val(e.options.day_date_font_size),$(this.day_date_color_picker).colorpicker("setColor",e.options.day_date_font_color),$(this.cell_height).val(e.options.calendar_cell_heigth),$(this.cell_bg_color).colorpicker("setColor",e.options.calendar_cell_bg_color),"right"===e.options.alignment?$(this.align_right_btn).addClass("active"):"center"===e.options.alignment?$(this.align_center_btn).addClass("active"):$(this.align_left_btn).addClass("active"),"top"===e.options.valignment?$(this.valign_top_btn).addClass("active"):"bottom"===e.options.alignment?$(this.valign_bottom_btn).addClass("active"):$(this.valign_middle_btn).addClass("active"),$(this.event_font_size).val(e.options.event_font_size),$(this.event_color_picker).colorpicker("setColor",e.options.event_font_color),$(this.calendar_x).val(e.options.x),$(this.calendar_y).val(e.options.y),$(this.calendar_width).val(e.options.width),$(this.calendar_height).val(e.options.height),$(this.calendar_border).val(e.options.border),$(this.calendar_font_family).val(e.options.calendar_font_family),$(this.designer_mode).val(e.options.designer_mode),$(this.load_design).val(e.options.load_design),$(this.month).val(e.options.month),$(this.events).val(e.options.events),$(this.starting_date).val(e.options.starting_date),this.designer_tool.options.calendar_starting_month?$(this.starting_month_datepicker).datepicker("setDate",new Date(this.designer_tool.options.calendar_starting_year,parseInt(this.designer_tool.options.calendar_starting_month),0)):$(this.starting_month_datepicker).datepicker("setDate",new Date(e.options.starting_year,parseInt(e.options.starting_month),0)),$(this.starting_year).val(e.options.starting_year),$(this.type).val(e.options.type)}},Calendar_Component=function(e){this.parent=void 0,this.designer_tool=void 0,this.canvas=void 0,this.element=void 0,this.editor=void 0,this.week={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"},this.options={header_font_size:32,header_font_color:"#000000",calendar_font_family:"freemono",header_bold:!1,header_bg_color:void 0,header_show:!0,header_align:"left",day_date_font_size:20,day_date_font_color:"#00000",day_date_font_family:"freemono",day_name_font_size:25,day_name_font_color:"#00000",day_name_font_family:"freemono",day_name_bold:!1,day_name_cell_height:20,event_font_size:5,event_font_family:"freemono",event_font_color:"#00000",day_name_bg_color:"#FFFFFF",calendar_cell_heigth:20,calendar_cell_bg_color:"#F0F0F0",alignment:"center",valignment:"middle",border:1,month:void 0,width:400,height:250,starting_date:void 0,starting_month:void 0,starting_year:void 0,resizable:void 0,movable:void 0,colorable:void 0,editor:void 0,designer_mode:!1,x:0,y:0,zindex:0,events:{},type:"Calendar",movable:!1,hide_all_option:!0,hide_header_all_option:!0,hide_header_font_size:!0,hide_header_font_color:!0,hide_header_text_align:!0,hide_header_bg_color:!0,hide_header_text_bold:!0,hide_header_show_hide_btn:!0,hide_week_all_option:!0,hide_day_date_font_size:!0,hide_day_date_font_color:!0,hide_day_date_background_color:!0,hide_day_date_font_height:!0,hide_day_date_text_bold:!0,hide_date_all_option:!0,hide_day_name_font_size:!0,hide_day_name_font_color:!0,hide_day_name_font_bg_color:!0,hide_day_name_cell_height:!0,hide_day_name_text_horizontal_align:!0,hide_day_name_text_vertical_align:!0,hide_calendar_option_x:!0,hide_calendar_option_y:!0,hide_calendar_option_width:!0,hide_calendar_option_height:!0,hide_calendar_option_border:!0,hide_calendar_option_font_family:!0,hide_calendar_option_bring_to_front_and_back:!0,hide_calendar_month:!0,hide_calendar_starting_month:!0,hide_calendar_remove_btn:!0,hide_calendar_manage_event:!0,base_url:void 0,page_url:void 0},this.init=function(e,t,o){this.designer_tool=e,this.canvas=t,void 0!==o&&(this.editor=o),this.options.base_url=this.designer_tool.options.base_url,this.options.page_url=this.designer_tool.options.base_url},this.initExisting=function(e){},this.renderTool=function(e){var t=this;void 0==t.options.base_url&&(t.options.base_url=t.designer_tool.options.base_url,t.options.page_url=t.designer_tool.options.base_url),this.parent=e;var o=t.designer_tool.options.calendar_starting_month,n=t.designer_tool.options.calendar_starting_year;calender_button_group=$('<div class="btn-group"></div>').appendTo(e.find(".xshop-designer-tool-topbar-buttonset")),tool_btn=$('<button type="button" class="btn "><i class="glyphicon glyphicon-calendar"></i><br/>Calendar</button>').appendTo(calender_button_group),this.editor=new xShop_Calendar_Editor(e.find(".xshop-designer-tool-topbar-options"),t.designer_tool),tool_btn.click(function(e){t.designer_tool.current_selected_component=void 0;var o=new Calendar_Component;o.init(t.designer_tool,t.canvas,t.editor),t.designer_tool.pages_and_layouts[t.designer_tool.current_page][t.designer_tool.current_layout].components.push(o),o.render(t.designer_tool)}),calendar_starting_month_picker=$('<div class="btn"></div>').appendTo(calender_button_group),this.starting_month_text=$('<input name="startDate" id="xshop-designer-startDate" class="xshop-designer-calendar-month-picker" />').appendTo(calendar_starting_month_picker),calendar_starting_month_label=$("<div>Starting Month</div>").appendTo(calendar_starting_month_picker),calendar_starting_month_label.click(function(){$(t.starting_month_text).datepicker("show")});var a={"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"Octomber",11:"November",12:"December",1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September"};void 0!=o&&void 0!=n||(dateObj=new Date,o=dateObj.getUTCMonth()+1,n=dateObj.getUTCFullYear()),$(this.starting_month_text).val(a[o]+" "+n),this.starting_month_datepicker=$(".xshop-designer-calendar-month-picker").datepicker({changeMonth:!0,changeYear:!0,showButtonPanel:!0,dateFormat:"MM yy",onClose:function(e,o){var n=$("#ui-datepicker-div .ui-datepicker-month :selected").val(),n=parseInt(n)+1,a=$("#ui-datepicker-div .ui-datepicker-year :selected").val();$(this).attr("month",n),$(this).attr("year",a),$(this).datepicker("setDate",new Date(a,n,0)),t.designer_tool.options.calendar_starting_month=n,t.designer_tool.options.calendar_starting_year=a,$(".xshop-designer-tool").xepan_xshopdesigner("check"),t.designer_tool.render(),$(".xshop-designer-pagelayout").remove(),t.designer_tool.bottom_bar.renderTool()}}),$(".xshop-designer-calendar-month-picker").focus(function(){$(".ui-datepicker-calendar").hide(),$("#ui-datepicker-div").position({my:"center top",at:"center bottom",of:$(this)})})},this.render=function(e){self=this,e&&(self.designer_tool=e),canvas=e.canvasObj,this.element&&(dt=self.designer_tool,dt.current_selected_component.element.forEachObject(function(e){dt.canvasObj.remove(e)}),dt.canvasObj.remove(dt.current_selected_component.element),dt.canvasObj.discardActiveGroup().renderAll()),self.options.width||(canvas.getWidth()<canvas.getHeight()?self.options.width=.75*canvas.getWidth()/self.designer_tool._getZoom():self.options.height=.75*canvas.getHeight()/self.designer_tool._getZoom()),this.calendar=group=new fabric.Group,self.element=group,self.element.component=self,this.selectedMonth="January",this.selectedYear="2016",this.monthDay=0,this.selectedDate=new Date(this.selectedMonth+" 1, "+this.selectedYear),this.thisMonth=this.selectedDate.getMonth()+1,this.prevMonthLastDate=getLastDayOfMonth(this.thisMonth-1),this.thisMonthLastDate=getLastDayOfMonth(this.thisMonth),this.thisMonthFirstDay=this.selectedDate.getDay(),this.thisMonthFirstDate=this.selectedDate.getDate(),12==this.thisMonth?this.nextMonthFirstDay=1:this.nextMonthFirstDay=this.thisMonth+1,this.dateOffset=this.thisMonthFirstDay,self.drawCalendar(),self.designer_tool.canvasObj.add(group),group.on("selected",function(e){$(".ui-selected").removeClass("ui-selected"),$(this).addClass("ui-selected"),$(".xshop-options-editor").hide(),self.editor.element.show(),self.editor.calendar_x.val(self.designer_tool.option2screen(self.options.x)),self.editor.calendar_y.val(self.designer_tool.option2screen(self.options.y)),self.editor.calendar_width.val(self.designer_tool.option2screen(self.options.width)),self.editor.calendar_height.val(self.designer_tool.option2screen(self.options.height)),self.designer_tool.option_panel.fadeIn(500),self.designer_tool.current_selected_component=self,self.current_calendar_component=self,self.designer_tool.option_panel.css("z-index",70),self.designer_tool.option_panel.addClass("xshop-text-options"),self.designer_tool.option_panel.offset({top:self.designer_tool.canvasObj._offset.top+group.top-self.designer_tool.option_panel.height(),left:self.designer_tool.canvasObj._offset.left+group.left}),self.editor.calendar_border.val(self.options.border),self.editor.setCalendarComponent(self),self.designer_tool.options.designer_mode&&(self.designer_tool.freelancer_panel.FreeLancerComponentOptions.element.show(),self.designer_tool.freelancer_panel.setComponent($(this).data("component"))),0==self.options.zindex?$("span.xshop-designer-calendar-down-btn").addClass("xepan-designer-button-disable"):$("span.xshop-designer-calendar-down-btn").removeClass("xepan-designer-button-disable")})},this.drawCalendar=function(){for(self=this,this.drawHeader(),j=0;j<6;++j)this.drawWeek(j)},this.drawHeader=function(){self=this,this.header_width=self.options.width*self.designer_tool._getZoom();var e=self.options.y*self.designer_tool._getZoom(),t=self.options.x*self.designer_tool._getZoom(),o=new fabric.Rect({originX:"right"==self.options.header_align?"right":"center"==self.options.header_align?"center":"left",top:e,width:this.header_width-2,fill:self.options.header_bg_color,evented:!1});self.calendar.addWithUpdate(o);var n=new fabric.Text(""+self.selectedMonth+" - "+self.selectedYear,{left:t,top:e,fontSize:self.options.header_font_size,fontFamily:"sans-serif",fill:self.options.header_font_color,scaleX:self.designer_tool._getZoom(),scaleY:self.designer_tool._getZoom(),evented:!1,fontWeight:self.options.header_bold?"bold":"normal"});self.calendar.addWithUpdate(n),week_cell_width=self.options.width*self.designer_tool._getZoom()/7,week_cell_height=self.options.day_name_cell_height,self.week_cell_y_offset=self.options.y*self.designer_tool._getZoom()+e,$.each(self.week,function(e,t){self.x_offset=self.options.x*self.designer_tool._getZoom()+week_cell_width*e;var o=new fabric.Rect({left:self.x_offset,top:self.week_cell_y_offset,width:week_cell_width-2,height:week_cell_height-2,fill:self.options.day_name_bg_color,evented:!1});self.calendar.addWithUpdate(o);var n=new fabric.Text(""+t,{left:self.x_offset,top:self.week_cell_y_offset,fontSize:self.options.day_name_font_size,fontFamily:"sans-serif",fill:self.options.day_name_font_color,scaleX:self.designer_tool._getZoom(),scaleY:self.designer_tool._getZoom(),evented:!1,fontWeight:self.options.day_name_bold?"bold":"normal"});self.calendar.addWithUpdate(n)})},this.drawWeek=function(e){for(self=this,i=0;i<7;++i)this.drawDay(i,e)},this.drawDay=function(e,t){self=this,cell_width=this.options.width*this.designer_tool._getZoom()/7,cell_height=this.options.calendar_cell_heigth*this.designer_tool._getZoom(),this.x_offset=this.options.x*this.designer_tool._getZoom()+cell_width*e,this.y_offset=this.options.y*this.designer_tool._getZoom()+cell_width*t+self.week_cell_y_offset;var o=new fabric.Rect({left:this.x_offset,top:this.y_offset,width:cell_width-2,height:cell_width-2,fill:self.options.calendar_cell_bg_color,evented:!1});this.calendar.addWithUpdate(o),0==t?e<this.thisMonthFirstDay?this.drawDayNumber(this.prevMonthLastDate-(this.dateOffset-e)+1,"#909090"):e==this.thisMonthFirstDay?(this.monthDay=1,this.drawDayNumber(this.thisMonthFirstDate+(this.dateOffset-e),self.options.day_date_font_color)):(++this.monthDay,this.drawDayNumber(this.monthDay,self.options.day_date_font_color)):this.thisMonthLastDate<=this.monthDay?(++this.monthDay,this.drawDayNumber(this.monthDay-this.thisMonthLastDate,"#909090")):(++this.monthDay,this.drawDayNumber(this.monthDay,self.options.day_date_font_color))},this.drawDayNumber=function(e,t){self=this;var o=new fabric.Text(""+e,{left:this.x_offset,top:this.y_offset,fontSize:this.options.day_date_font_size,fontFamily:"sans-serif",fill:t,scaleX:this.designer_tool._getZoom(),scaleY:this.designer_tool._getZoom(),evented:!1,textAlign:self.options.alignment});this.calendar.addWithUpdate(o)}};